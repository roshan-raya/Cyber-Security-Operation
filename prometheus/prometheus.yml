global:
  scrape_interval: 5m
  evaluation_interval: 5m
# For testing, temporarily override per-job: add scrape_interval: 15s (or 30s) under the desired job's scrape_configs entry.

rule_files:
  - /etc/prometheus/alert.rules.yml

alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - alertmanager:9093

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets:
          - localhost:9090

  - job_name: node-exporter
    static_configs:
      - targets:
          - node-exporter-1:9100
          - node-exporter-2:9100
        labels:
          datacenter: dc1
          role: game-node

  - job_name: patch_metrics
    static_configs:
      - targets:
          - ansible:9101
        labels:
          role: patch-orchestration

  - job_name: alertmanager
    static_configs:
      - targets:
          - alertmanager:9093
        labels:
          role: alertmanager
